<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8" %>
   <%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
      <%@ taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="fn" %>
         <!DOCTYPE html>
         <html>

         <head>

         </head>

         <body>
            <a href="/mem/logOut">로그아웃</a>

            <div class="main">
               <h4>
                  관리자 ${ses.mem_name}님<br>환영합니다!!
               </h4>

               <ul>
                  <li>회원관리 member admin
                     <ul>
                        <li><a href="">회원탈퇴</a></li>
                     </ul>
                  </li>
               </ul>

               <ul>
                  <li>공지사항관리 noticeadmin
                     <ul>
                        <li><a href="/ntc/noticeList">목록</a></li>
                        <li><a href="/ntc/noticeRegister">등록</a></li>

                     </ul>
                  </li>
               </ul>

               <ul>
                  <li>fap fapadmin
                     <ul>
                        <li><a href="">목록</a></li>
                        <li><a href="">등록</a></li>
                        <li><a href="">수정</a></li>
                        <li><a href="">삭제</a></li>
                     </ul>
                  </li>
               </ul>
               <ul>
                  <li>1대1문의게시판관리 mantomanadmin
                     <ul>
                        <li><a href="/admin/list">목록</a></li>
                        <li><a href="">수정</a></li>
                        <li><a href="">삭제</a></li>
                     </ul>
                  </li>
               </ul>
               <ul>
                  <li>상품관리 productadmin
                     <ul>
                        <li><a href="">목록</a></li>
                        <li><a href="">등록</a></li>
                        <li><a href="">수정</a></li>
                        <li><a href="">삭제</a></li>
                     </ul>
                  </li>
               </ul>



               <div>
                  <c:forEach items="${category}" var="category">
                     <c:forEach items="${content}" var="content">
                        <c:choose>
                           <c:when test="${category eq 'member'}">

                           </c:when>


                           <c:when test="${category eq 'notice'}">
                              <c:choose>
                              <c:when test="${content eq 'notice_list'}">
                                 <table border="1">
                                    <tr>
                                       <th>NO</th>
                                       <th>공지제목</th>
                                       <th>작성자</th>
                                       <th>작성일</th>
                                    </tr>
                                    <c:forEach items="${notice_list}" var="ntc">
                                       <tr>
                                          <td>${ntc.ntc_num}</td>
                                          <td><a href="/ntc/noticeDetail?ntc_num=${ntc.ntc_num}">${ntc.ntc_title}</a>
                                          </td>
                                          <td>${ntc.ntc_writer}</td>
                                          <td>${ntc.ntc_regdate}</td>
                                       </tr>
                                    </c:forEach>
                                 </table>
                                 <div>
                                    <c:if test="${pgh.prev}">
                                       <a href="/ntc/noticeList?pageNo=${pgh.startPage-1}&qty=${pgh.pgvo.qty}">prev</a>
                                    </c:if>
                                    <c:forEach begin="${pgh.startPage }" end="${pgh.endPage }" var="i">
                                       <a href="/ntc/noticeList?pageNo=${i}&qty=${pgh.pgvo.qty}">${i}
                                          ｜ </a>
                                    </c:forEach>
                                    <c:if test="${pgh.next}">
                                       <a href="/ntc/noticeList?pageNo=${pgh.endPage+1}&qty=${pgh.pgvo.qty}">next</a>
                                    </c:if>
                                 </div>
                              </c:when>
                              <c:when test="${content eq 'noticeRegister' }">
                                 <form action="/ntc/noticeRegister" method="post">
                                    <table border="1">
                                       <tr>

                                          <th>공지제목</th>
                                          <th>작성자</th>
                                          <th>내용</th>
                                       </tr>

                                       <tr>
                                          <td><input type="text" name="ntc_title"></td>
                                          <td><input type="text" name="ntc_writer" value="${ses.mem_name}" readonly="readonly"></td>

                                          <td><input type="text" name="ntc_content"></td>
                                       </tr>
                                    </table>
                                    <button type="submit">작성</button>
                                 </form>
                              </c:when>
                              <c:when test="${content eq 'noticeDetail' }">
                                 <div class="noticeDetail">
                                    <h2>${nvo.ntc_title}</h2>
                                    ${nvo.ntc_writer} ${nvo.ntc_regdate}
                                    <hr>
                                    ${nvo.ntc_content} <Br> <a href="/ntc/notice">
                                       <button type="button" class="btn btn-outline-secondary">공지사항
                                          목록</button>
                                    </a>
                                 </div>

                                 <a href="/ntc/noticeModify?ntc_num=${nvo.ntc_num}"><button
                                       type="button">수정</button></a>
                                 <a href="/ntc/noticeDelete?ntc_num=${nvo.ntc_num}"><button
                                       type="button">삭제</button></a>
                              </c:when>
                              <c:when test="${content eq 'noticeModify' }">
                                 <form action="/ntc/noticeModify" method="post">
                                    <table border="1">
                                       <tr>
                                          <th>글번호</th>
                                          <th>공지제목</th>
                                          <th>작성자</th>
                                          <th>내용</th>
                                       </tr>

                                       <tr>
                                          <td><input type="text" name="ntc_num" value="${nvo.ntc_num}"></td>
                                          <td><input type="text" name="ntc_title" value="${nvo.ntc_title}"></td>
                                          <td><input type="text" name="ntc_writer" value="${nvo.ntc_writer}"
                                                readonly="readonly"></td>

                                          <td><input type="text" name="ntc_content" value="${nvo.ntc_content}"></td>
                                       </tr>
                                    </table>
                                    <button type="submit">수정</button>
                                    <a href="/ntc/noticeList"><button type="button">공지사항목록으로</button></a>
                                 </form>
                              </c:when>
                              </c:choose>
                           </c:when>


                           <c:when test="${category eq 'faq'}">

                              <c:when test="${content eq '1' }">
                              </c:when>
                              <c:when test="${content eq '2' }">
                              </c:when>
                              <c:when test="${content eq '3' }">
                              </c:when>
                              <c:when test="${content eq '4' }">
                              </c:when>

                           </c:when>

                           <c:when test="${category eq 'mantoman'}">
                              <c:choose>

                                 <c:when test="${content eq 'boardList' }">
                                    <div class="mypage-right">
                                       <table class="table">
                                          <h4>1대1문의</h4>
                                          <thead>
                                             <tr>
                                                <th scope="col">글번호</th>
                                                <th scope="col">제목</th>
                                                <th scope="col">카테고리</th>
                                                <th scope="col">글쓴이</th>
                                                <th scope="col">작성일자</th>
                                                <th scope="col">조회수</th>
                                             </tr>
                                          </thead>


                                          <c:forEach items="${list}" var="board">
                                             <c:choose>
                                                <c:when test="${ses.mem_auth == '0'|| ses.mem_id == board.brd_writer}">
                                                   <tbody>
                                                      <tr>
                                                         <td scope="row">${board.brd_num}</td>
                                                         <td><a
                                                               href="/admin/boardDetail?brd_num=${board.brd_num}">${board.brd_title}</a>
                                                         </td>
                                                         <td>${board.brd_category}</td>
                                                         <td>${board.brd_writer}</td>
                                                         <td>${board.brd_regdate}</td>
                                                         <td>${board.brd_views}</td>

                                                      </tr>
                                                   </tbody>
                                                </c:when>

                                                <c:otherwise>
                                                   <tr>
                                                      <td>${board.brd_num}</td>
                                                      <td>


                                                         <c:choose>
                                                            <c:when test="${ses.mem_id eq board.brd_writer}">
                                                               ${board.brd_title}
                                                            </c:when>
                                                            <c:otherwise>
                                                               ${board.brd_title}
                                                            </c:otherwise>
                                                         </c:choose>
                                                      </td>
                                                      <td>${board.brd_category}</td>
                                                      <c:choose>
                                                         <c:when test="${ses.mem_id eq board.brd_writer}">
                                                            <td>${board.brd_writer}</td>
                                                         </c:when>
                                                         <c:otherwise>
                                                            <td>******</td>
                                                         </c:otherwise>
                                                      </c:choose>
                                                      <td>${board.brd_regdate}</td>
                                                      <td>${board.brd_views}</td>
                                                   </tr>
                                                </c:otherwise>
                                             </c:choose>
                                          </c:forEach>


                                       </table>
                                       <div>
                                          <c:if test="${pgh.prev}">
                                             <a
                                                href="/admin/list?pageNo=${pgh.startPage-1}&qty=${pgh.pgvo.qty}&type=${pgh.pgvo.type}&keyword=${pgh.pgvo.keyword}">prev</a>
                                          </c:if>
                                          <c:forEach begin="${pgh.startPage }" end="${pgh.endPage }" var="i">
                                             <a
                                                href="/admin/list?pageNo=${i}&qty=${pgh.pgvo.qty}&type=${pgh.pgvo.type}&keyword=${pgh.pgvo.keyword}">${i}
                                                ｜ </a>
                                          </c:forEach>
                                          <c:if test="${pgh.next}">
                                             <a
                                                href="/admin/list?pageNo=${pgh.endPage+1}&qty=${pgh.pgvo.qty}&type=${pgh.pgvo.type}&keyword=${pgh.pgvo.keyword}">next</a>
                                          </c:if>
                                       </div>
                                       <!-- search -->

                                       <div class="col-sm-12 col-md-6">
                                          <form action="/admin/list" method="get">
                                             <div class="input-group mb-3">
                                                <!-- 값을 별도 저장 -->
                                                <c:set value="${pgh.pgvo.type}" var="typed" />
                                                <select class="form-select" name="type">
                                                   <option ${typed==null ? 'selected' :'' }>항목</option>
                                                   <option value="t" ${typed eq 't' ? 'selected' :'' }>제목</option>
                                                   <option value="c" ${typed eq 'c' ? 'selected' :'' }>내용</option>
                                                   <option value="w" ${typed eq 'w' ? 'selected' :'' }>작성자</option>
                                                </select>
                                                <input class="form-control" type="text" name="keyword"
                                                   placeholder="포함해서찾기" value="${pgn.pgvo.keyword }">
                                                <input type="hidden" name="pageNo" value="1">
                                                <input type="hidden" name="qty" value="${pgh.pgvo.qty }">
                                                <button type="submit" class="btn btn-success position-relative">
                                                   결과
                                                   <span
                                                      class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                                                      ${pgh.totalCount}개
                                                      <span class="visually-hidden">unread messages</span></span>
                                                </button>
                                             </div>
                                          </form>
                                       </div>

                                    </div>
                                 </c:when>

                                 <c:when test="${content eq 'boardDetail' }">
                                    <div class="mypage-right boardDetail">
                                       글번호 ${board.brd_num}
                                       <h2>${board.brd_title}</h2>
                                       <sapn class="boardDetail-writer">${board.brd_writer}</sapn>
                                       <span class="boardDetail-regdate">${board.brd_regdate}</span>
                                       <hr>
                                       <div class="boardDetail-content">
                                          ${board.brd_content}
                                       </div>
                                       <Br>




                                       <a href="/admin/boardModify?brd_num=${board.brd_num}">
                                          <button type="button" class="btn btn-success">수정</button></a>
                                       <a href="/admin/boardRemove?brd_num=${board.brd_num}">
                                          <button type="button" class="btn btn-danger">삭제</button>
                                       </a><a href="/admin/list">
                                          <button type="button" class="btn btn-outline-secondary">1대1문의 리스트 목록</button>
                                       </a>
                                       <br>

                                       <div class="container">
                                          <div class="input-group my-3">
                                             <span class="input-group-text" id="cmtWriter">${ses.mem_id}</span>
                                             <input type="text" class="form-control" id="cmtText"
                                                placeholder="Test Add Comment ">
                                             <button class="btn btn-success" id="cmtPostBtn" type="button">Post</button>
                                          </div>
                                          <ul class="list-group list-group-flush" id="cmtListArea">
                                             <li
                                                class="list-group-item d-flex justify-content-between align-items-start">
                                                <div class="ms-2 me-auto">
                                                   <div class="fw-bold">Writer</div>
                                                   Content for Comment
                                                </div>
                                                <span class="badge bg-dark rounded-pill">modAt</span>
                                             </li>
                                          </ul>
                                       </div>


                                       <script type="text/javascript">
                                          const bnoVal = '<c:out value="${board.brd_num}" />';
                                          const id = '<c:out value="${ses.mem_id}"/>'
                                          console.log(id);
                                          console.log(bnoVal);
                                       </script>
                                       <script type="text/javascript" src="/resources/js/boardComment.js"></script>
                                       <script type="text/javascript">
                                          getCommentList(bnoVal, id);
                                       </script>
                                    </div>

                                 </c:when>
                                 <c:when test="${content eq 'boardModify' }">
                                    <div class="boardRegister mypage-right">
                                       <div class="boardRegisterBox">
                                          <form action="/admin/modify" method="post">
                                             <input type="text" name="brd_num" value="${board.brd_num}" readonly
                                                hidden><br>

                                             <div class="brd_titleAndWriter">
                                                <label for="brd_title">제목</label>
                                                <input type="text" name="brd_title" class="brd_title"
                                                   value="${board.brd_title}" required>　　　
                                                <label for="brd_writer">작성자</label>
                                                <input type="text" name="brd_writer" value="${ses.mem_id}"
                                                   value="${board.brd_writer}" readonly><br>
                                             </div>
                                             <div class="brd_regdate">
                                                <label for="brd_regdate">작성일</label>
                                                <input type="text" name="brd_regdate" value="${board.brd_regdate}"
                                                   readonly><br>
                                             </div>
                                             <div class="brd_content">
                                                <label for="brd_content">내용</label><br>
                                                <input type="text" name="brd_content" class="brd_content"
                                                   value="${board.brd_title}" required>　

                                             </div>
                                             <button type="submit" class="btn btn-secondary btnModify">수정</button>
                                             <div name="brd_mem_num" value="${ses.mem_num}"></div>
                                          </form>
                                       </div>
                                    </div>
                                 </c:when>

                              </c:choose>

                           </c:when>

                           <c:when test="${category eq 'product'}">

                              <c:when test="${content eq '1' }">
                              </c:when>
                              <c:when test="${content eq '2' }">
                              </c:when>
                              <c:when test="${content eq '3' }">
                              </c:when>
                              <c:when test="${content eq '4' }">
                              </c:when>

                           </c:when>



                        </c:choose>
                     </c:forEach>
                  </c:forEach>
               </div>
            </div>

         </body>

         </html>